<UserControl x:Class="VDLaser.Views.Settings.SoftwareSettingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:VDLaser.ViewModels.Settings;assembly=VDLaser.ViewModels"
             mc:Ignorable="d">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Text="Software Settings"
                   FontSize="22"
                   FontWeight="Bold"
                   Margin="0 0 0 20"/>

        <!-- Content -->
        <StackPanel Grid.Row="1" Orientation="Vertical" Margin="15">

            <!-- Communication -->
            <GroupBox Header="Communication" Padding="10">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="Last used port:" Width="150" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding Settings.LastUsedPort, UpdateSourceTrigger=PropertyChanged}"
                                 Width="200"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="Baud rate:" Width="150" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding Settings.BaudRate, UpdateSourceTrigger=PropertyChanged}"
                                 Width="200"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- UI -->
            <GroupBox Header="User Interface" Padding="10">
                <StackPanel Margin="10">
                    <CheckBox Content="Dark mode"
                              IsChecked="{Binding Settings.DarkMode}"/>

                    <CheckBox Content="Auto-scroll console"
                              IsChecked="{Binding Settings.AutoScrollConsole}"/>
                </StackPanel>
            </GroupBox>

            <!-- Laser defaults -->
            <GroupBox Header="Laser Defaults" Padding="10">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="Default laser power:" Width="150" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding Settings.DefaultLaserPower, UpdateSourceTrigger=PropertyChanged}"
                                 Width="200"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="Default feed rate:" Width="150" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding Settings.DefaultFeedRate, UpdateSourceTrigger=PropertyChanged}"
                                 Width="200"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- Paths -->
            <GroupBox Header="Paths" Padding="10">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="Last opened folder:" Width="150" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding Settings.LastOpenedFolder, UpdateSourceTrigger=PropertyChanged}"
                                 Width="300"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

        </StackPanel>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 20 0 0">
            <Button Content="Load"
                    Width="100"
                    Command="{Binding LoadAsyncCommand}"/>

            <Button Content="Save"
                    Width="100"
                    Command="{Binding SaveAsyncCommand}"/>
        </StackPanel>

    </Grid>
</UserControl>

